"use strict";var I=Object.defineProperty;var ne=Object.getOwnPropertyDescriptor;var se=Object.getOwnPropertyNames;var ae=Object.prototype.hasOwnProperty;var re=(t,e)=>{for(var s in e)I(t,s,{get:e[s],enumerable:!0})},oe=(t,e,s,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of se(e))!ae.call(t,o)&&o!==s&&I(t,o,{get:()=>e[o],enumerable:!(r=ne(e,o))||r.enumerable});return t};var ce=t=>oe(I({},"__esModule",{value:!0}),t);var Ie={};re(Ie,{default:()=>te});module.exports=ce(Ie);var n=require("@raycast/api"),g=require("react");var ie=/([\p{Ll}\d])(\p{Lu})/gu,le=/(\p{Lu})([\p{Lu}][\p{Ll}])/gu,Ce=/(\d)\p{Ll}|(\p{L})\d/u,fe=/[^\p{L}\d]+/giu,X="$1\0$2",J="";function W(t){let e=t.trim();e=e.replace(ie,X).replace(le,X),e=e.replace(fe,"\0");let s=0,r=e.length;for(;e.charAt(s)==="\0";)s++;if(s===r)return[];for(;e.charAt(r-1)==="\0";)r--;return e.slice(s,r).split(/\0/g)}function ue(t){let e=W(t);for(let s=0;s<e.length;s++){let r=e[s],o=Ce.exec(r);if(o){let i=o.index+(o[1]??o[2]).length;e.splice(s,1,r.slice(0,i),r.slice(i))}}return e}function w(t,e){let[s,r,o]=R(t,e);return s+r.map(E(e?.locale)).join(e?.delimiter??" ")+o}function H(t,e){let[s,r,o]=R(t,e),i=E(e?.locale),C=k(e?.locale),u=e?.mergeAmbiguousCharacters?O(i,C):G(i,C);return s+r.map((d,p)=>p===0?i(d):u(d,p)).join(e?.delimiter??"")+o}function K(t,e){let[s,r,o]=R(t,e),i=E(e?.locale),C=k(e?.locale),u=e?.mergeAmbiguousCharacters?O(i,C):G(i,C);return s+r.map(u).join(e?.delimiter??"")+o}function Q(t,e){return b(t,{delimiter:"_",...e})}function b(t,e){let[s,r,o]=R(t,e),i=E(e?.locale),C=k(e?.locale);return s+r.map(O(i,C)).join(e?.delimiter??" ")+o}function U(t,e){let[s,r,o]=R(t,e);return s+r.map(k(e?.locale)).join(e?.delimiter??"_")+o}function V(t,e){return w(t,{delimiter:".",...e})}function N(t,e){return w(t,{delimiter:"-",...e})}function q(t,e){return w(t,{delimiter:"/",...e})}function B(t,e){return w(t,{delimiter:"_",...e})}function v(t,e){return b(t,{delimiter:"-",...e})}function E(t){return t===!1?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t)}function k(t){return t===!1?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t)}function O(t,e){return s=>`${e(s[0])}${t(s.slice(1))}`}function G(t,e){return(s,r)=>{let o=s[0];return(r>0&&o>="0"&&o<="9"?"_"+o:e(o))+t(s.slice(1))}}function R(t,e={}){let s=e.split??(e.separateNumbers?ue:W),r=e.prefixCharacters??J,o=e.suffixCharacters??J,i=0,C=t.length;for(;i<t.length;){let u=t.charAt(i);if(!r.includes(u))break;i++}for(;C>i;){let u=C-1,d=t.charAt(u);if(!o.includes(d))break;C=u}return[t.slice(0,i),s(t.slice(i,C)),t.slice(C)]}function $(t,e){let s="";for(let r of t)s+=Math.random()>.5?r.toLocaleUpperCase(e):r.toLocaleLowerCase(e);return s}function Y(t,e){let s="";for(let r of t){let o=r.toLocaleLowerCase(e);s+=r===o?r.toLocaleUpperCase(e):o}return s}var de=/(\S+)|(.)/g,me=/[\.#]\p{Alphabetic}/u,he=/\p{Ll}(?=[\p{Lu}])/u,ge=/\p{Alphabetic}+/gu,Ae=/^(\P{Alphabetic})*(?:\p{Alphabetic}\.){2,}(\P{Alphabetic})*$/u,Se=new Set(["\u2014","\u2013","-","\u2015","/"]),Z=new Set([".","!","?"]),xe=new Set([...Z,":",'"',"'","\u201D"]),ye=new Set(["a","an","and","as","at","because","but","by","en","for","if","in","neither","nor","of","on","only","or","over","per","so","some","than","that","the","to","up","upon","v","versus","via","vs","when","with","without","yet"]);function M(t,e={}){let{locale:s=void 0,sentenceCase:r=!1,sentenceTerminators:o=Z,titleTerminators:i=xe,smallWords:C=ye,wordSeparators:u=Se}=typeof e=="string"||Array.isArray(e)?{locale:e}:e,d=r?o:i,p="",m=!0;for(let h of t.matchAll(de)){let{1:l,2:P,index:F=0}=h;if(P){p+=P;continue}if(me.test(l)){let A=l.match(Ae);if(A){let[x,a="",f=""]=A;p+=r&&!m?l:z(l,a.length,s),m=d.has(f.charAt(0));continue}p+=l,m=d.has(l.charAt(l.length-1))}else{let A=Array.from(l.matchAll(ge)),x=l,a=!1;for(let f=0;f<A.length;f++){let{0:y,index:S=0}=A[f],D=l.charAt(S+y.length);if(a=d.has(D),m)m=!1;else{if(r||he.test(y))continue;if(A.length===1){if(C.has(y)&&!(F+l.length===t.length)&&!a)continue}else if(f>0&&(!u.has(l.charAt(S-1))||C.has(y)&&u.has(D)))continue}x=z(x,S,s)}p+=x,m=a||d.has(l.charAt(l.length-1))}}return p}function z(t,e,s){return t.slice(0,e)+t.charAt(e).toLocaleUpperCase(s)+t.slice(e+1)}var we=t=>t.toLowerCase(),Te=t=>t.length<=1?t.toLowerCase():t[0].toLowerCase()+t.slice(1),Le=t=>M(t,{sentenceCase:!0}),Pe=t=>t.toUpperCase(),Re=t=>t.length<=1?t.toUpperCase():t[0].toUpperCase()+t.slice(1),T={"Camel Case":H,"Capital Case":b,"Constant Case":U,"Dot Case":V,"Header Case":v,"Kebab Case":N,"Lower Case":we,"Lower First":Te,"Macro Case":U,"No Case":w,"Param Case":N,"Pascal Case":K,"Pascal Snake Case":Q,"Path Case":q,"Random Case":$,"Sentence Case":Le,"Snake Case":B,"Swap Case":Y,"Title Case":M,"Upper Case":Pe,"Upper First":Re,"Sponge Case":$,"Train Case":v},Xe=Object.keys(T);var c=require("react/jsx-runtime"),L=class extends Error{constructor(){super("No text"),Object.setPrototypeOf(this,L.prototype)}};async function be(){try{return await(0,n.getSelectedText)()}catch{return""}}async function ee(t){let e=await n.Clipboard.readText(),s=await be();if(t==="clipboard"){if(e)return e;if(s)return s}else{if(s)return s;if(e)return e}throw new L}function j(t,e){let s=[],r=t.split(`
`);for(let o of r)s.push(e(o));return s.join(`
`)}var _=new n.Cache,Ee=()=>{let t=_.get("pinned");return t?JSON.parse(t):[]},ke=()=>{let t=_.get("recent");return t?JSON.parse(t):[]},_e=t=>{_.set("pinned",JSON.stringify(t))},Fe=t=>{_.set("recent",JSON.stringify(t))};function te(t){let e=(0,n.getPreferenceValues)(),s=e.source,r=e.action,o=t.launchContext?.case;if(o){(async()=>{let a=await ee(s),f=T[o](a);r==="paste"?n.Clipboard.paste(f):n.Clipboard.copy(f),(0,n.showHUD)(`Converted to ${o}`),(0,n.popToRoot)()})();return}let[i,C]=(0,g.useState)(""),[u,d]=(0,g.useState)(),[p,m]=(0,g.useState)([]),[h,l]=(0,g.useState)([]);(0,g.useEffect)(()=>{m(Ee()),l(ke()),(0,n.getFrontmostApplication)().then(d)},[]),(0,g.useEffect)(()=>{_e(p)},[p]),(0,g.useEffect)(()=>{Fe(h)},[h]);let P=async()=>{try{C(await ee(s))}catch(a){a instanceof L&&(0,n.showToast)({style:n.Toast.Style.Failure,title:"Nothing to convert",message:"Please ensure that text is either selected or copied"})}};(0,g.useEffect)(()=>{P()},[]);let F=a=>(0,c.jsx)(n.Action,{title:"Copy to Clipboard",icon:n.Icon.Clipboard,onAction:()=>{a.pinned||l([a.case,...h.filter(f=>f!==a.case)].slice(0,4)),(0,n.showHUD)("Copied to Clipboard"),n.Clipboard.copy(a.modified),(0,n.closeMainWindow)()}}),A=a=>u?(0,c.jsx)(n.Action,{title:`Paste in ${u.name}`,icon:{fileIcon:u.path},onAction:()=>{a.pinned||l([a.case,...h.filter(f=>f!==a.case)].slice(0,4)),(0,n.showHUD)(`Pasted in ${u.name}`),n.Clipboard.paste(a.modified),(0,n.closeMainWindow)()}}):null,x=a=>{let f=encodeURIComponent(`{"case":"${a.case}"}`),y=`raycast://extensions/erics118/${n.environment.extensionName}/${n.environment.commandName}?context=${f}`;return(0,c.jsx)(n.List.Item,{id:a.case,title:a.case,accessories:[{text:a.modified}],detail:(0,c.jsx)(n.List.Item.Detail,{markdown:a.modified}),actions:(0,c.jsxs)(n.ActionPanel,{children:[(0,c.jsxs)(n.ActionPanel.Section,{children:[r==="paste"&&(0,c.jsx)(A,{...a}),(0,c.jsx)(F,{...a}),r==="copy"&&(0,c.jsx)(A,{...a})]}),(0,c.jsxs)(n.ActionPanel.Section,{children:[a.pinned?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.Action,{title:"Remove Pinned Case",icon:n.Icon.PinDisabled,shortcut:{key:"r",modifiers:["cmd"]},onAction:()=>{m(p.filter(S=>S!==a.case))}}),(0,c.jsx)(n.Action,{title:"Clear Pinned Cases",icon:{source:n.Icon.XMarkCircle,tintColor:n.Color.Red},shortcut:{key:"r",modifiers:["cmd","shift"]},onAction:()=>{m([])}})]}):(0,c.jsx)(n.Action,{title:"Pin Case",icon:n.Icon.Pin,shortcut:{key:"p",modifiers:["cmd","shift"]},onAction:()=>{m([a.case,...p]),a.recent&&l(h.filter(S=>S!==a.case))}}),a.recent&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.Action,{title:"Remove Recent Case",icon:n.Icon.XMarkCircle,shortcut:{key:"r",modifiers:["cmd"]},onAction:()=>{l(h.filter(S=>S!==a.case))}}),(0,c.jsx)(n.Action,{title:"Clear Recent Cases",icon:{source:n.Icon.XMarkCircle,tintColor:n.Color.Red},shortcut:{key:"r",modifiers:["cmd","shift"]},onAction:()=>{l([])}})]}),(0,c.jsx)(n.Action.CreateQuicklink,{title:`Create Quicklink to Convert to ${a.case}`,quicklink:{name:`Convert to ${a.case}`,link:y}})]}),(0,c.jsx)(n.ActionPanel.Section,{children:(0,c.jsx)(n.Action,{title:"Refresh Content",icon:n.Icon.RotateAntiClockwise,shortcut:{key:"r",modifiers:["cmd"]},onAction:P})})]})})};return(0,c.jsxs)(n.List,{isShowingDetail:!0,children:[(0,c.jsx)(n.List.Section,{title:"Pinned",children:p?.map(a=>(0,c.jsx)(x,{case:a,modified:j(i,T[a]),pinned:!0},a))}),(0,c.jsx)(n.List.Section,{title:"Recent",children:h.map(a=>(0,c.jsx)(x,{case:a,modified:j(i,T[a]),recent:!0},a))}),(0,c.jsx)(n.List.Section,{title:"All Cases",children:Object.entries(T).filter(([a])=>e[a.replace(/ +/g,"")]&&!h.includes(a)&&!p.includes(a)).map(([a,f])=>(0,c.jsx)(x,{case:a,modified:j(i,f)},a))})]})}
